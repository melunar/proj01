<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<script src="../../../js/jquery.min.js"></script>
	<style>
		.wrap {
			position: absolute;
			width: 200px;
			height: 200px;
			top: 40px;
			left: 30px;
		}
		.pipe {
			position: absolute;
			width: 180px;
			height: 180px;
			top: 10px;
			left: 10px;
			border-radius: 50%;
			background: #f00;
			background-image: linear-gradient(to left, #ddd 50%, #f00 0); /* < 50 */
		}
		.pipe-more-half {
			background-image: linear-gradient(to left, #f00 50%, #f00 0) !important;  /* > 50 */ 
		}
		.pipe-inner {
			position: absolute;
			width: 170px;
			height: 170px;
			top: 15px;
			left: 15px;
			text-align: center;
			border-radius: 50%;
			background-color: white;
			color: red;
			font: 19px/170px "微软雅黑";
		}
		/* .pipe::before */
		.pipe-slide {
			/*content: "";*/
			position: absolute;
			display: block;
			height: 100%;
			width: 50%;
			margin-right: 50%;  
			border-top-left-radius: 200% 100%;
			border-top-right-radius: 0% 0%;
			border-bottom-right-radius: 0px 0%;
			border-bottom-left-radius: 200% 100%;
			background-color: #ddd;
			transform-origin: right;
			transform: rotate(0.1turn); /* 旋转角度 */
		}
		.pipe::after {
			content: "";
			display: none;  /* < 50 */ 
			margin-top: 0;
			margin-right: 50%;
			border-top-left-radius: 200% 100%;
			border-top-right-radius: 0% 0%;
			border-bottom-right-radius: 0px 0%;
			border-bottom-left-radius: 200% 100%;
			height: 100%;
			width: 50%;
			background-color: #f00;
			transform: rotate(0);
		}
		.pipe-more-half::after {
			display: block !important;
		}
	</style>
</head>
<body>
输入百分比(0-100)：<input type="number" id="persent">
<button id="submit">提交</button>
<br>
<div class="wrap">
	<div class="pipe">
		<div class="pipe-slide"></div>
	</div>
	<div class="pipe-inner"><span id="number">-</span>%</div>
</div>
</body>
<script>
	$("#submit").on("click", function() {
		var persent = Number($("#persent").val());
		if(persent > 50) {
			$(".pipe").addClass("pipe-more-half");	
		} else {
			$(".pipe").removeClass("pipe-more-half");	
		}
		$(".pipe-slide").css({
			"transform": "rotate(" + persent/100 + "turn)"
		});
		$("#number").text(persent);
	});
</script>
</html>